{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\devis\\\\OneDrive\\\\Documents\\\\IDS_react_project\\\\ids_react_project\\\\frontend\\\\src\\\\context\\\\PredictionContext.js\",\n  _s = $RefreshSig$();\n// import React, { createContext, useState, useEffect } from \"react\";\n// import { getLivePredictions, getDashboardStats } from \"../services/api\";\n\n// export const PredictionContext = createContext();\n\n// export function PredictionProvider({ children }) {\n//   const [isRunning, setIsRunning] = useState(false);\n//   const [flows, setFlows] = useState([]);\n//   const [stats, setStats] = useState({ total_flows: 0, malicious_flows: 0, risk: \"0%\" });\n\n//   // Poll live predictions\n//   useEffect(() => {\n//     let flowInterval;\n//     if (isRunning) {\n//       flowInterval = setInterval(async () => {\n//         const data = await getLivePredictions();\n//         setFlows(data);\n//       }, 2000);\n//     }\n//     return () => clearInterval(flowInterval);\n//   }, [isRunning]);\n\n//   // Poll dashboard stats\n//   useEffect(() => {\n//     const statsInterval = setInterval(async () => {\n//       const data = await getDashboardStats();\n//       setStats(data);\n//     }, 3000);\n//     return () => clearInterval(statsInterval);\n//   }, []);\n\n//   return (\n//     <PredictionContext.Provider value={{ isRunning, setIsRunning, flows, stats }}>\n//       {children}\n//     </PredictionContext.Provider>\n//   );\n// }\n\n// frontend/src/context/PredictionContext.js\n// import React, { createContext, useState, useEffect } from \"react\";\n// import { getLivePredictions } from \"../services/api\";\n\n// export const PredictionContext = createContext();\n\n// export const PredictionProvider = ({ children }) => {\n//   const [isRunning, setIsRunning] = useState(false);\n//   const [flows, setFlows] = useState([]);\n\n//   useEffect(() => {\n//     let interval;\n\n//     if (isRunning) {\n//       interval = setInterval(async () => {\n//         try {\n//           const data = await getLivePredictions();\n//           setFlows(data);\n//         } catch (err) {\n//           console.error(\"Error fetching live predictions:\", err);\n//         }\n//       }, 2000);\n//     }\n\n//     return () => clearInterval(interval);\n//   }, [isRunning]);\n\n//   return (\n//     <PredictionContext.Provider value={{ isRunning, setIsRunning, flows }}>\n//       {children}\n//     </PredictionContext.Provider>\n//   );\n// };\n\nimport React, { createContext, useState, useEffect } from \"react\";\nimport { getLivePredictions, getDashboardData } from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const PredictionContext = /*#__PURE__*/createContext();\nexport const PredictionProvider = ({\n  children\n}) => {\n  _s();\n  const [isRunning, setIsRunning] = useState(false);\n  const [flows, setFlows] = useState([]);\n  const [dashboard, setDashboard] = useState({\n    total_packets: 0,\n    malicious_flows: 0,\n    risk_percent: 0\n  });\n  useEffect(() => {\n    let interval;\n    if (isRunning) {\n      interval = setInterval(async () => {\n        const liveFlows = await getLivePredictions();\n        setFlows(liveFlows);\n        const dash = await getDashboardData();\n        setDashboard(dash);\n      }, 2000);\n    }\n    return () => clearInterval(interval);\n  }, [isRunning]);\n  return /*#__PURE__*/_jsxDEV(PredictionContext.Provider, {\n    value: {\n      isRunning,\n      setIsRunning,\n      flows,\n      dashboard\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n};\n_s(PredictionProvider, \"HDB9tkTq/Qz5WumhUbldjQVs91Y=\");\n_c = PredictionProvider;\nvar _c;\n$RefreshReg$(_c, \"PredictionProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","getLivePredictions","getDashboardData","jsxDEV","_jsxDEV","PredictionContext","PredictionProvider","children","_s","isRunning","setIsRunning","flows","setFlows","dashboard","setDashboard","total_packets","malicious_flows","risk_percent","interval","setInterval","liveFlows","dash","clearInterval","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/devis/OneDrive/Documents/IDS_react_project/ids_react_project/frontend/src/context/PredictionContext.js"],"sourcesContent":["// import React, { createContext, useState, useEffect } from \"react\";\n// import { getLivePredictions, getDashboardStats } from \"../services/api\";\n\n// export const PredictionContext = createContext();\n\n// export function PredictionProvider({ children }) {\n//   const [isRunning, setIsRunning] = useState(false);\n//   const [flows, setFlows] = useState([]);\n//   const [stats, setStats] = useState({ total_flows: 0, malicious_flows: 0, risk: \"0%\" });\n\n//   // Poll live predictions\n//   useEffect(() => {\n//     let flowInterval;\n//     if (isRunning) {\n//       flowInterval = setInterval(async () => {\n//         const data = await getLivePredictions();\n//         setFlows(data);\n//       }, 2000);\n//     }\n//     return () => clearInterval(flowInterval);\n//   }, [isRunning]);\n\n//   // Poll dashboard stats\n//   useEffect(() => {\n//     const statsInterval = setInterval(async () => {\n//       const data = await getDashboardStats();\n//       setStats(data);\n//     }, 3000);\n//     return () => clearInterval(statsInterval);\n//   }, []);\n\n//   return (\n//     <PredictionContext.Provider value={{ isRunning, setIsRunning, flows, stats }}>\n//       {children}\n//     </PredictionContext.Provider>\n//   );\n// }\n\n// frontend/src/context/PredictionContext.js\n// import React, { createContext, useState, useEffect } from \"react\";\n// import { getLivePredictions } from \"../services/api\";\n\n// export const PredictionContext = createContext();\n\n// export const PredictionProvider = ({ children }) => {\n//   const [isRunning, setIsRunning] = useState(false);\n//   const [flows, setFlows] = useState([]);\n\n//   useEffect(() => {\n//     let interval;\n\n//     if (isRunning) {\n//       interval = setInterval(async () => {\n//         try {\n//           const data = await getLivePredictions();\n//           setFlows(data);\n//         } catch (err) {\n//           console.error(\"Error fetching live predictions:\", err);\n//         }\n//       }, 2000);\n//     }\n\n//     return () => clearInterval(interval);\n//   }, [isRunning]);\n\n//   return (\n//     <PredictionContext.Provider value={{ isRunning, setIsRunning, flows }}>\n//       {children}\n//     </PredictionContext.Provider>\n//   );\n// };\n\n\n\nimport React, { createContext, useState, useEffect } from \"react\";\nimport { getLivePredictions, getDashboardData } from \"../services/api\";\n\nexport const PredictionContext = createContext();\n\nexport const PredictionProvider = ({ children }) => {\n  const [isRunning, setIsRunning] = useState(false);\n  const [flows, setFlows] = useState([]);\n  const [dashboard, setDashboard] = useState({\n    total_packets: 0,\n    malicious_flows: 0,\n    risk_percent: 0,\n  });\n\n  useEffect(() => {\n    let interval;\n    if (isRunning) {\n      interval = setInterval(async () => {\n        const liveFlows = await getLivePredictions();\n        setFlows(liveFlows);\n\n        const dash = await getDashboardData();\n        setDashboard(dash);\n      }, 2000);\n    }\n    return () => clearInterval(interval);\n  }, [isRunning]);\n\n  return (\n    <PredictionContext.Provider\n      value={{ isRunning, setIsRunning, flows, dashboard }}\n    >\n      {children}\n    </PredictionContext.Provider>\n  );\n};\n"],"mappings":";;AAAA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAIA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACjE,SAASC,kBAAkB,EAAEC,gBAAgB,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvE,OAAO,MAAMC,iBAAiB,gBAAGP,aAAa,CAAC,CAAC;AAEhD,OAAO,MAAMQ,kBAAkB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAClD,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACc,SAAS,EAAEC,YAAY,CAAC,GAAGf,QAAQ,CAAC;IACzCgB,aAAa,EAAE,CAAC;IAChBC,eAAe,EAAE,CAAC;IAClBC,YAAY,EAAE;EAChB,CAAC,CAAC;EAEFjB,SAAS,CAAC,MAAM;IACd,IAAIkB,QAAQ;IACZ,IAAIT,SAAS,EAAE;MACbS,QAAQ,GAAGC,WAAW,CAAC,YAAY;QACjC,MAAMC,SAAS,GAAG,MAAMnB,kBAAkB,CAAC,CAAC;QAC5CW,QAAQ,CAACQ,SAAS,CAAC;QAEnB,MAAMC,IAAI,GAAG,MAAMnB,gBAAgB,CAAC,CAAC;QACrCY,YAAY,CAACO,IAAI,CAAC;MACpB,CAAC,EAAE,IAAI,CAAC;IACV;IACA,OAAO,MAAMC,aAAa,CAACJ,QAAQ,CAAC;EACtC,CAAC,EAAE,CAACT,SAAS,CAAC,CAAC;EAEf,oBACEL,OAAA,CAACC,iBAAiB,CAACkB,QAAQ;IACzBC,KAAK,EAAE;MAAEf,SAAS;MAAEC,YAAY;MAAEC,KAAK;MAAEE;IAAU,CAAE;IAAAN,QAAA,EAEpDA;EAAQ;IAAAkB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACiB,CAAC;AAEjC,CAAC;AAACpB,EAAA,CA9BWF,kBAAkB;AAAAuB,EAAA,GAAlBvB,kBAAkB;AAAA,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}